<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="javascriptToDov2.css">
</head>

<body>
    <div class="container">

        <div id="header" class="header">
            <h1>My To Do List</h1>
            <input type="text" id="theInput" placeholder="Add to your list...">
            <span onclick="createNewElement()" class="create-button">Add</span>
        </div>
        <ul id="theUl">
            <li>Get assignment</li>
            <li>Study hard</li>
            <li>Learn something</li>
        </ul>
    </div>

    <script>
        var myList = document.getElementsByTagName("li");
        
        for (index = 0; index < myList.length; index++) {
            var aSpanTag = document.createElement("SPAN");
            var someTxt = document.createTextNode("\u00D7")
            aSpanTag.className = "close";
            aSpanTag.appendChild(someTxt);
            myList[index].appendChild(aSpanTag);
        }

        var closeButton = document.getElementsByClassName("close");

        for (i = 0; i < closeButton.length; i++) {
                closeButton[i].onclick = function () {
                    var theDiv = this.parentElement;
                    theDiv.style.display = "none";
                }
            }

        function createNewElement() {
            var li = document.createElement('li');
            var theInputValue = document.getElementById("theInput").value;
            var textNode = document.createTextNode(theInputValue);
            li.appendChild(textNode);

            if (theInputValue == '') {
                alert("This can't be empty!")
            }
            else {
                document.getElementById("theUl").appendChild(li);
            }

            document.getElementById("theInput").value = "";

            var spanTag = document.createElement("SPAN")
            var txt = document.createTextNode("\u00D7")
            spanTag.className = "close";
            spanTag.appendChild(txt);
            li.appendChild(spanTag);

            for (i = 0; i < closeButton.length; i++) {
                closeButton[i].onclick = function () {
                    var theDiv = this.parentElement;
                    theDiv.style.display = "none";
                }
            }

        }
        var ulList = document.querySelector('ul')
        ulList.addEventListener('click', function (event) {
            if (event.target.tagName == "LI") {
                event.target.classList.toggle('checked');
            }
        });
    </script>
</body>

</html>